graph TD
    NL["ðŸ—£ï¸ Natural Language Command
    ('Inspect the warehouseâ€¦')"]
    PLAN["ðŸ§  Agentic Planner 
    NL â†’ InternalPlan"]
    IP["ðŸ“‹ InternalPlan
    (canonical dataclass)"]

    subgraph CH1["Channel 1 â€” Formal Verifier"]
        LTL["âš™ï¸ LTL Verifier 
        Spot + BÃ¼chi automata
        Boolean APs only"]
        PDDL["âš™ï¸ PDDL Validator\
        unified-planning
        SequentialSimulator + concurrency check"]
        DEON["âš™ï¸ Deontic Checker
        Permitted / Obliged / Forbidden rules"]
    end

    subgraph CH2["Channel 2 â€” LLM Safety CoT"]
        INV["ðŸ¤– Invariant Reasoner"]
        CONF["ðŸ¤– Conflict Detector"]
        CS["ðŸ¤– Commonsense Analyzer"]
        PHYS["ðŸ¤– Physical Validator"]
    end

    FUSE["ðŸ”— Corroborative Fusion
    SEVERITY_MAP â†’ (decision, risk_level)"]
    OUT["âœ… Verdict
    Approve / Reject / Review
    + risk_level + explanation"]

    NL --> PLAN --> IP
    IP --> CH1
    IP --> CH2
    CH1 --> FUSE
    CH2 --> FUSE
    FUSE --> OUT